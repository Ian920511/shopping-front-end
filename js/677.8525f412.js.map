{"version":3,"file":"js/677.8525f412.js","mappings":"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","sources":["webpack://shopping-front-end/./src/views/UserOrder.vue","webpack://shopping-front-end/./src/components/SellerDetail.vue","webpack://shopping-front-end/./src/components/SellerDetail.vue?8c00","webpack://shopping-front-end/./src/components/BuyDetail.vue","webpack://shopping-front-end/./src/components/BuyDetail.vue?707d","webpack://shopping-front-end/./src/views/UserOrder.vue?85b7"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <nav-tabs />\r\n    <h1 class=\"mt-5\">\r\n      訂單資訊\r\n    </h1>\r\n    <BuyDetail v-if=\"currentUser.role === 'buyer'\"/>\r\n    <SellerDetail v-else-if=\"currentUser.role === 'seller'\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport NavTabs from './../components/NavTabs.vue'\r\nimport SellerDetail from '@/components/SellerDetail.vue';\r\nimport BuyDetail from '@/components/BuyDetail.vue';\r\nimport { useUserStore } from './../stores/userStore' \r\n\r\nexport default defineComponent({\r\n  components: {\r\n    NavTabs,\r\n    SellerDetail,\r\n    BuyDetail\r\n  },\r\n  setup() {\r\n    const userStore = useUserStore() \r\n\r\n    return {\r\n      currentUser: userStore.currentUser\r\n    }\r\n  }\r\n})\r\n</script>","<template>\r\n  <table class=\"table\">\r\n    <thead class=\"thead-dark\">\r\n      <tr>\r\n        <th scope=\"col\">\r\n          #\r\n        </th>\r\n        <th scope=\"col\">\r\n          商品名稱\r\n        </th>\r\n        <th scope=\"col\">\r\n          商品價格\r\n        </th>\r\n        <th scope=\"col\">\r\n          數量\r\n        </th>\r\n        <th\r\n          scope=\"col\"\r\n          width=\"300\"\r\n        >\r\n          總價\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n       <tr v-if=\"!orders.length | orders.length === 0\">\r\n        <td colspan=\"4\" class=\"text-center\">沒有任何訂單</td>\r\n      </tr>\r\n      <tr\r\n        v-else\r\n        v-for=\"order in orders\"\r\n        :key=\"order.id\"\r\n      >\r\n        <th scope=\"row\">\r\n          {{ order.id }}\r\n        </th>\r\n        <td>{{ order.Product.name }}</td>\r\n        <td>{{ order.price }}</td>\r\n        <td>{{ order.quantity }}</td>\r\n        <td>{{ order.Order.totalPrice }}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport userAPI from '../apis/user'\r\nimport { Toast } from '@/utils/helper'\r\nimport { useRoute } from 'vue-router'\r\n\r\nexport default {\r\n  setup() {\r\n    const orders = ref([])\r\n    const route = useRoute()\r\n\r\n    const fetchOrders = async () => {\r\n      const userId = route.params.userId\r\n      try {\r\n        const { data } = await userAPI.getUserOrders({ userId })\r\n\r\n        orders.value = data\r\n        \r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon:'error',\r\n          title: '暫時無法獲得商家商品資訊，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n\r\n    onMounted(fetchOrders)\r\n\r\n    return {\r\n      orders,\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./SellerDetail.vue?vue&type=template&id=552b065e\"\nimport script from \"./SellerDetail.vue?vue&type=script&lang=js\"\nexport * from \"./SellerDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <table class=\"table table-bordered\">\r\n    <thead class=\"thead-dark\">\r\n      <tr>\r\n        <th scope=\"col\">\r\n          #\r\n        </th>\r\n        <th scope=\"col\">\r\n          商品名稱\r\n        </th>\r\n        <th scope=\"col\">\r\n          商品價格\r\n        </th>\r\n        <th scope=\"col\">\r\n          數量\r\n        </th>\r\n        <th\r\n          scope=\"col\"\r\n          width=\"300\"\r\n        >\r\n          總價\r\n        </th> \r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n       <tr v-if=\"!orders.length || orders.length === 0\">\r\n        <td colspan=\"4\" class=\"text-center\">沒有任何訂單</td>\r\n      </tr>\r\n\r\n      <template v-for=\"order in orders\">\r\n        <tr\r\n          v-for=\"(orderDetail, index) in order.OrderDetails\"\r\n          :key=\"orderDetail.id\"\r\n          :class=\"{ 'border-bottom': index === order.OrderDetails.length - 1 }\"\r\n        >\r\n          <th v-if=\"index === 0\" :rowspan=\"order.OrderDetails.length\" scope=\"row\">\r\n            {{ order.id }}\r\n          </th>\r\n          <td>{{ orderDetail.Product.name }}</td>\r\n          <td>{{ orderDetail.price }}</td>\r\n          <td>{{ orderDetail.quantity }}</td>\r\n          <td v-if=\"index === order.OrderDetails.length - 1\" class=\"no-top-border\" :rowspan=\"order.OrderDetails[index].length\">{{ order.totalPrice }}</td>\r\n        </tr>\r\n      </template>\r\n    </tbody>\r\n    <tfoot>\r\n      <tr>\r\n        <td colspan=\"4\" class=\"text-left\">所有訂單總和：</td>\r\n        <td>{{ totalOrderPrice }}</td>\r\n      </tr>\r\n    </tfoot>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from 'vue'\r\nimport userAPI from './../apis/user'\r\nimport { Toast } from '@/utils/helper'\r\nimport { useRoute } from 'vue-router'\r\n\r\nexport default {\r\n  setup() {\r\n    const orders = ref([])\r\n    const route = useRoute()\r\n\r\n    const fetchOrders = async () => {\r\n      const userId = route.params.userId\r\n      try {\r\n        const { data } = await userAPI.getUserOrders({ userId })\r\n\r\n        orders.value = data\r\n        \r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon:'error',\r\n          title: '暫時無法獲得商家商品資訊，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n\r\n    const totalOrderPrice = computed(() => {\r\n      if (!Array.isArray(orders.value)) {\r\n        return 0;\r\n      }\r\n      return orders.value.reduce((sum, order) => sum + order.totalPrice, 0);\r\n    });\r\n\r\n    onMounted(fetchOrders)\r\n\r\n    return {\r\n      orders,\r\n      totalOrderPrice\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.border-bottom {\r\n  border-bottom: 2px solid black;\r\n}\r\n.no-top-border {\r\n  border-top: none !important;\r\n}\r\n\r\n</style>\r\n\r\n","import { render } from \"./BuyDetail.vue?vue&type=template&id=3f2a12aa&scoped=true\"\nimport script from \"./BuyDetail.vue?vue&type=script&lang=js\"\nexport * from \"./BuyDetail.vue?vue&type=script&lang=js\"\n\nimport \"./BuyDetail.vue?vue&type=style&index=0&id=3f2a12aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f2a12aa\"]])\n\nexport default __exports__","import { render } from \"./UserOrder.vue?vue&type=template&id=bd80f582\"\nimport script from \"./UserOrder.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_nav_tabs","_hoisted_2","_ctx","currentUser","role","_createBlock","_component_BuyDetail","key","_component_SellerDetail","scope","width","colspan","_hoisted_4","$setup","orders","length","_hoisted_3","_hoisted_5","_Fragment","_renderList","order","id","_hoisted_6","_toDisplayString","Product","name","price","quantity","Order","totalPrice","setup","ref","route","useRoute","fetchOrders","async","userId","params","data","userAPI","getUserOrders","value","error","Toast","fire","icon","title","onMounted","__exports__","OrderDetails","orderDetail","index","_normalizeClass","rowspan","_hoisted_7","_hoisted_8","totalOrderPrice","computed","Array","isArray","reduce","sum","defineComponent","components","NavTabs","SellerDetail","BuyDetail","userStore","useUserStore","render"],"sourceRoot":""}