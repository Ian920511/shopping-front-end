"use strict";(self["webpackChunkshopping_front_end"]=self["webpackChunkshopping_front_end"]||[]).push([[199],{8496:function(e,t,o){o.d(t,{Z:function(){return E}});var r=o(6252),a=o(9963),n=o(3577);const i={class:"form-group"},c=(0,r._)("label",{for:"name"},"Name",-1),l={class:"form-group"},s=(0,r._)("label",{for:"categoryId"},"Category",-1),u=(0,r._)("option",{value:"",selected:"",disabled:""}," --請選擇-- ",-1),d=["value"],p={class:"form-group"},m=(0,r._)("label",{for:"price"},"Price",-1),g={class:"form-group"},f=(0,r._)("label",{for:"stock"},"Stock",-1),b={class:"form-label-group mb-3"},v=(0,r._)("label",{for:"role"},"Status",-1),_=(0,r._)("option",{value:"active"},"Active",-1),h=(0,r._)("option",{value:"inactive"},"Inactive",-1),y=[_,h],w={class:"form-group"},k=(0,r._)("label",{for:"description"},"Description",-1),S={class:"form-group"},C=(0,r._)("label",{for:"image"},"Image",-1),I=["src"],U=(0,r._)("button",{type:"submit",class:"btn btn-primary"}," 送出 ",-1);function D(e,t,o,_,h,D){return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[7]||(t[7]=(0,a.iM)(((...e)=>_.handleSubmit&&_.handleSubmit(...e)),["stop","prevent"]))},[(0,r._)("div",i,[c,(0,r.wy)((0,r._)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>_.product.name=e),type:"text",class:"form-control",name:"name",placeholder:"Enter name",required:""},null,512),[[a.nr,_.product.name]])]),(0,r._)("div",l,[s,(0,r.wy)((0,r._)("select",{id:"categoryId",class:"form-control",name:"categoryId","onUpdate:modelValue":t[1]||(t[1]=e=>_.product.categoryId=e),required:""},[u,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(_.categories,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id,value:e.id},(0,n.zw)(e.name),9,d)))),128))],512),[[a.bM,_.product.categoryId]])]),(0,r._)("div",p,[m,(0,r.wy)((0,r._)("input",{id:"price","onUpdate:modelValue":t[2]||(t[2]=e=>_.product.price=e),type:"number",class:"form-control",placeholder:"Enter price",name:"price"},null,512),[[a.nr,_.product.price]])]),(0,r._)("div",g,[f,(0,r.wy)((0,r._)("input",{id:"stock","onUpdate:modelValue":t[3]||(t[3]=e=>_.product.stock=e),type:"number",class:"form-control",placeholder:"Enter stock",name:"stock"},null,512),[[a.nr,_.product.stock]])]),(0,r._)("div",b,[v,(0,r.wy)((0,r._)("select",{id:"status",name:"status",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>_.product.status=e),required:""},y,512),[[a.bM,_.product.status]])]),(0,r._)("div",w,[k,(0,r.wy)((0,r._)("textarea",{id:"description",class:"form-control",rows:"3",name:"description","onUpdate:modelValue":t[5]||(t[5]=e=>_.product.description=e)},null,512),[[a.nr,_.product.description]])]),(0,r._)("div",S,[C,_.product.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:_.product.image,class:"d-block img-thumbnail mb-3",width:"200",height:"200"},null,8,I)):(0,r.kq)("",!0),(0,r._)("input",{id:"image",type:"file",name:"image",accept:"image/*",class:"form-control-file",onChange:t[6]||(t[6]=(...e)=>_.handleFileChange&&_.handleFileChange(...e))},null,32)]),U],32)}o(6229),o(7330),o(2062);var F=o(2262),P=o(2863),V={getCategories(){return P.l.get("/categories")}},A={props:{initialProduct:{type:Object,default:()=>({name:"",categoryId:"",description:"",image:"",price:0,stock:0,status:""})}},setup(e,{emit:t}){const o=(0,F.iH)({...e.initialProduct}),a=(0,F.iH)([]),n=async()=>{try{const{data:e}=await V.getCategories();a.value=e}catch(e){P.F.fire({icon:"error",title:"無法獲得分類標籤，請稍後再試"})}},i=e=>{const t=e.target.files;if(0===t.length)o.value.image="";else{const e=window.URL.createObjectURL(t[0]);o.value.image=e}},c=e=>{const o=e.target,r=new FormData(o);t("after-submit",r)};return(0,r.YP)((()=>e.initialProduct),(e=>{o.value={...e}}),{deep:!0}),(0,r.bv)((()=>{n()})),{product:o,categories:a,handleFileChange:i,handleSubmit:c}}},q=o(3744);const Z=(0,q.Z)(A,[["render",D]]);var E=Z},3199:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var r=o(6252);const a={class:"container py-5"};function n(e,t,o,n,i,c){const l=(0,r.up)("ProductForm");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r.Wm)(l,{onAfterSubmit:n.handleAfterSubmit},null,8,["onAfterSubmit"])])}var i=o(8496),c={components:{ProductForm:i.Z},setup(){const e=e=>{for(let[t,o]of e.entries())console.log(t+": "+o)};return{handleAfterSubmit:e}}},l=o(3744);const s=(0,l.Z)(c,[["render",n]]);var u=s}}]);
//# sourceMappingURL=199.96d4e3ba.js.map